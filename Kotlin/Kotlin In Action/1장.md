# 코틀린이란 무엇이며, 왜 필요한가?

> 코틀린은 자바 플랫폼에서 돌아가는 프로그래밍 언어다. 코틀린은 간결하고 실용적이며, 자바 코드와의 상호운용성을 중시한다.
> 
> 코틀린 언어와 컴파일러, 라이브러리 및 코틀린과 관련된 모든 도구는 모두 오픈소스며, 어떤 목적에든 무료로 사용가능하다.
> 코틀린은 아파치2 라이선스하에 제공된다.

## 목차

1. [코틀린 목적](#코틀린 철학)
2. [코틀린 주요 특성](#2장.-의미-있는-이름)
3. [코틀린 장점](#코틀린 장점)

## 코틀린 철학
1. 실용성<br/>
코틀린은 실제 문제를 해결하기 위해 만들어진 실용적인 언어다.<br/>
연구를 위한 언어는 아니고, 다른 프로그래밍 언어가 채택한 이미 성공적으로 검증된 해법과 기능에 의존한다.<br/>
IDE 지원과 언어가 동시에 개발되어 항상 도구 활용을 염두에 두고 설계돼 왔다.
2. 간결성<br/>
코드를 간단하고 간결하게 내용을 표현한다. 게터, 세터등과 같은 준비코드를 묵시적으로 제공.
3. 안전성<br/>
일부 유형의 오류를 프로그램 설계가 원천적으로 방지해준다.<br/>
코틀린의 경우 컴파일러가 타입을 자동으로 추론해주기 때문에 직접 타입 정보를 지정할 필요가 없다.
`NullPointerException` 외에도 `ClassCastException`을 방지해준다.
```kotlin
if (value is String)
    println(value.toUpperCase())
```
위 코드와 같이 타입 검사를 실행하면 아래 변수에 대한 타입 캐스팅을 생략할 수 있다.    
4. 상호운용성<br/>
기존 자바 라이브러리, 어노테이션을 그대로 사용이 가능하다.<br/>
코틀린은 자체 컬렉션 라이브러리를 제공하지 않는다. **코틀린은 자바 표준 라이브러리 클래스에 의존**한다.

### 코틀린 도구 사용
1. 코틀린 코드 컴파일 방식
![img.png](res/img.png)
코틀린 컴파일러로 컴파일한 코드는 코틀린 런타임 라이브러리에 의존 한다.<br/>
런타임 라이브러리는 코틀린 자체 표준 라이브러리 클래스와 자바 API 확장한 내용이 들어 있다.

## 코틀린 특성
### 1. 정적 타입 지정 언어
> **타입 추론:** <br/>
> 자바와 다르게 모든 변수의 타입을 직접 명시할 필요가 없다.<br/>
코틀린 컴파일러가 문맥으로부터 변수 타입을 자동으로 유추 가능하며, 타입 선언을 생략 해도 된다.

**정적 타입 지정의 장점**

성능: 실행 전 컴파일 단계에서 메소드 호출을 정의하여 메소드 호출이 더 빠르다.<br/>
신뢰성: 컴파일러가 타입을 검증하여 런타임 중 오류로 중단될 가능성이 줄어든다.<br/>
유지 보수성: 코드에서 다루는 객체가 어떤 타입에 속하는지 알 수 있어 코드에 대한 이해가 증가한다.<br/>
도구 지원: 더 정확한 코드 완성 기능 및 IDE 의 다른 지원 기능도 더 잘 만들 수 있다.<br/>

*기존의 정적 타입 지정언어에서 프로그래머가 직접 타입을 선언해야하는 불편함의 단점을 타입추론을 통해 해결하였다.*

**타입 관련 특성**
- 코틀린은 ```클래스```, ```인터페이스```, ```제네릭``` 모두 자바와 비슷하게 작동하지만, ```코틀린이 널이 될 수 있는 타입을 지원```한다.
- 널이 될 수 있는 타입을 지원함에 따라 **컴파일 시점에 널 포인터 예외가 발생할 수 있는지 여부**를 검사할 수 있어서 좀 더 프로그램의 신뢰성을 높일 수 있다.
- 코틀린 함수 타입에 대한 지원을 제공한다.(함수형 프로그래밍 관련 개념)

### 2. 함수형 프로그래밍과 객체지향 프로그래밍

**함수형 프로그래밍의 핵심 개념**
- 일급 시민인 함수: 함수를 일반 값처럼 사용할 수 있다.
- 불변성: 내부 상태가 절대로 바뀌지 않는 [불변 객체](https://ko.wikipedia.org/wiki/불변객체)를 사용해 프로그램을 작성한다.
- 부수 효과 없음: 입력이 같으면 항상 같은 출력을 내놓고 다른 객체 상태를 변경하지 않으며, 함수 외부나 다른 바깥 환경과 상호작용하지 않는 순수 함수를 사용한다.

**함수형 프로그래밍 이점**
1. 함수형 코드는 명령형 코드에 비해 추상화를 통해 코드 중복을 막을 수 있다.
```kotlin
fun findAlice() = findPerson { it.name == "Alice" }
fun findBob() = findPerson { it.name == "Bob" }
```
위와 같이 람다식을 활용하면 간결하게 함수를 인자로 전달할 수 있다.
2. 다중 스레드 사용시 안전하다.<br/>
불변 데이터 구조 사용시 순수 함수를 데이터 구조에 적용하면 다중 스레드 환경에서 같은 데이터를 여러 스레드가 변경할 수 없다.
3. 함수형 프로그램은 테스트하기 쉽다.<br/>
부수 효과가 있는 경우 전체 환경 구성시 준비 코드가 필요하지만, 순수 함수는 준비코드 없이 독립적으로 테스트할 수 있다.

*코틀린에서 함수형 프로그래밍을 강제 하진 않기에 필요시 명령형 방식을 사용해도 된다.*


## 코틀린 장점
1. 자바 코드와 상호운용 가능하다. 
새로운 컴포넌트를 작성하거나 기존 서비스 코드를 코틀린으로 이식해야하는 경우 적합하다.
2. 애플리케이션의 신뢰성이 더 높아진다.
`NullPointerException` 으로 인한 문제를 줄여준다.
3. 대부분의 코틀린 표준 라이브러리 함수는 인자로 받은 람다 함수를 인라이닝 한다.
람다를 사용해도 새로운 객체가 만들어지지 않아 객체 증가로 인한 가비지 컬렉션이 늘어나는 것을 방지 할 수 있다.

